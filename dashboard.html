<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dashboard | Sam Gold Tales</title>
<meta name="robots" content="noindex,nofollow" />
<meta name="description" content="Member dashboard for Sam Gold Tales students. Access courses, payments, and account settings." />
<style>
  :root{
    --bg:#ffd60a; --header:#000; --text:#fff;
    --card:#ffffff; --ink:#0b0f14; --line:#e5e7eb;
    --btn-bg:#000; --btn-text:#ffd60a; --radius:16px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:'Poppins',system-ui,sans-serif;background:var(--bg);color:var(--text)}
  a{text-decoration:none;color:inherit}

  /* Header */
  header{background:var(--header);padding:1rem 0;position:sticky;top:0;z-index:20}
  .container{width:min(1200px,92vw);margin-inline:auto}
  .nav{display:flex;justify-content:space-between;align-items:center}
  .brand{font-weight:900;font-size:1.2rem}
  .nav a{margin-left:1rem}

  /* Layout */
  .wrap{display:grid;grid-template-columns:270px 1fr;min-height:calc(100vh - 76px)}
  @media (max-width:900px){.wrap{grid-template-columns:1fr}}
  .sidebar{background:#000;color:#fff;padding:1rem;position:sticky;top:76px;height:calc(100vh - 76px)}
  @media (max-width:900px){.sidebar{position:relative;height:auto}}
  .side-title{font-weight:800;margin-bottom:.8rem}
  .side-link{display:flex;align-items:center;gap:.6rem;padding:.6rem .55rem;border-radius:12px}
  .side-link:hover{background:#111}
  .main{padding:1rem}

  /* Cards / buttons */
  .card{background:var(--card);color:var(--ink);border:1px solid var(--line);border-radius:var(--radius);padding:1rem;box-shadow:0 8px 24px rgba(0,0,0,.08)}
  .grid{display:grid;gap:1rem}
  .grid-3{grid-template-columns:repeat(3,1fr)}
  @media (max-width:900px){.grid-3{grid-template-columns:1fr}}

  .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.85rem 1.1rem;border-radius:999px;background:var(--btn-bg);color:var(--btn-text);font-weight:800;border:1px solid #222}
  .btn:hover{opacity:.9}
  .chip{display:inline-block;padding:.35rem .7rem;border-radius:999px;background:#fff;color:#111;border:1px solid var(--line);font-weight:600}
</style>
</head>
<body>

<!-- ===== AUTH GUARD: only registered users may access dashboard ===== -->
<script>
(function(){
  try {
    const session = JSON.parse(localStorage.getItem('sgt_user')||'null');
    const users   = JSON.parse(localStorage.getItem('sgt_users')||'[]');
    const ok = !!(session && session.email &&
      users.some(u => u.email && u.email.toLowerCase() === session.email.toLowerCase()));
    if(!ok){
      localStorage.removeItem('sgt_user');
      location.replace('./login.html');
    }
  } catch(e){
    localStorage.removeItem('sgt_user');
    location.replace('./login.html');
  }
})();
</script>

<header>
  <div class="container nav">
    <a class="brand" href="./index.html">Sam Gold Tales</a>
    <nav>
      <!-- Top nav quick actions -->
      <a class="chip" href="./payments.html">Payments</a>
      <a class="chip" href="./courses.html">Courses</a><!-- ‚úÖ clickable courses link -->
      <a class="chip" href="#" id="logoutTop">Logout</a>
    </nav>
  </div>
</header>

<div class="wrap">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="side-title">Student Menu</div>
    <nav class="side-links">
      <a class="side-link" href="./dashboard.html">üè† Dashboard</a>
      <a class="side-link" href="./courses.html">üé¨ Courses</a> <!-- ‚úÖ clickable courses link -->
      <a class="side-link" href="./payments.html">üí≥ Payments</a>
      <a class="side-link" href="#" id="logoutSide">‚Ü™Ô∏è Logout</a>
    </nav>
    <div style="margin-top:1rem">
      <a class="chip" href="https://wa.link/32k269" target="_blank" rel="noopener">WhatsApp Support</a>
    </div>
  </aside>

  <!-- Main -->
  <main class="main container">
    <div class="card" style="display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap">
      <div>
        <div class="chip" id="welcome">Welcome</div>
        <h1 style="margin:.4rem 0 0;color:#000">Your Dashboard</h1>
        <p class="chip" style="margin-top:.5rem">Member Area ‚Ä¢ Access your trainings</p>
      </div>
      <div style="display:flex;gap:.6rem;flex-wrap:wrap">
        <a class="btn" href="./courses.html">üé¨ Go to Courses</a> <!-- ‚úÖ big CTA -->
        <a class="btn" href="./payments.html">üí≥ Make a Payment</a>
      </div>
    </div>

    <section class="grid grid-3" style="margin-top:1rem">
      <div class="card">
        <h3 style="margin:0 0 .3rem;color:#000">Quick Start</h3>
        <p>Jump straight into your lessons and continue where you left off.</p>
        <a class="btn" href="./courses.html">Open Courses</a>
      </div>
      <div class="card">
        <h3 style="margin:0 0 .3rem;color:#000">Your Access</h3>
        <p>Need to upgrade? Use our secure Selar checkout or contact us.</p>
        <div style="display:flex;gap:.5rem;flex-wrap:wrap">
          <a class="btn" href="https://selar.com/37787n" target="_blank" rel="noopener">Buy on Selar</a>
          <a class="btn" href="https://wa.link/32k269" target="_blank" rel="noopener">WhatsApp</a>
        </div>
      </div>
      <div class="card">
        <h3 style="margin:0 0 .3rem;color:#000">Playlist</h3>
        <div style="aspect-ratio:16/9;overflow:hidden;border-radius:12px">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/videoseries?list=PLRBY4cYxp2r_2mCaMtEF8U6QdQX4gCqvL" title="Playlist" allowfullscreen></iframe>
        </div>
      </div>
    </section>
  </main>
</div>

<script>
  // Personalize greeting
  (function(){
    const u = JSON.parse(localStorage.getItem('sgt_user')||'null');
    if(u){
      document.getElementById('welcome').textContent = 'Welcome, ' + (u.name || u.email);
    }
  })();

  // Logout (both top and side)
  function logout(){
    localStorage.removeItem('sgt_user');
    location.href = './login.html';
  }
  document.getElementById('logoutTop').addEventListener('click', function(e){e.preventDefault(); logout();});
  document.getElementById('logoutSide').addEventListener('click', function(e){e.preventDefault(); logout();});
</script>
</body>
</html>
